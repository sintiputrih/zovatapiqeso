<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="FluxVib"><meta property="og:type" content="article"><meta name=robots content="index,follow,noarchive"><meta property="og:image" content="//img/home-bg-jeep.jpg"><meta property="twitter:image" content="//img/home-bg-jeep.jpg"><meta name=title content="A Deep Dive into Zen-based Hygon Dhyana Processors"><meta property="og:title" content="A Deep Dive into Zen-based Hygon Dhyana Processors"><meta property="twitter:title" content="A Deep Dive into Zen-based Hygon Dhyana Processors"><meta name=description content="In 2016, through a series of joint ventures and created companies, AMD licensed the design of its first generation Zen x86 processors to be sold into China. The goal of this was two-fold: China wanted a home grown solution for high-performance x86 compute, and AMD at the time needed a cash injection. The outcome of"><meta property="og:description" content="In 2016, through a series of joint ventures and created companies, AMD licensed the design of its first generation Zen x86 processors to be sold into China. The goal of this was two-fold: China wanted a home grown solution for high-performance x86 compute, and AMD at the time needed a cash injection. The outcome of"><meta property="twitter:description" content="In 2016, through a series of joint ventures and created companies, AMD licensed the design of its first generation Zen x86 processors to be sold into China. The goal of this was two-fold: China wanted a home grown solution for high-performance x86 compute, and AMD at the time needed a cash injection. The outcome of"><meta property="twitter:card" content="summary"><meta name=keyword content><link rel="shortcut icon" href=./img/favicon.ico><title>A Deep Dive into Zen-based Hygon Dhyana Processors |</title><link rel=canonical href=./hygon-dhyana-reviewed-chinese-x86-cpus-amd.html><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cleanwhite/css/bootstrap.min.css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cleanwhite/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=https://assets.cdnweb.info/hugo/cleanwhite/css/zanshang.css><link href=https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css rel=stylesheet type=text/css><script src=https://assets.cdnweb.info/hugo/cleanwhite/js/jquery.min.js></script>
<script src=https://assets.cdnweb.info/hugo/cleanwhite/js/bootstrap.min.js></script>
<script src=https://assets.cdnweb.info/hugo/cleanwhite/js/hux-blog.min.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=./>FluxVib</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=./categories/blog>blog</a></li><li><a href=./sitemap.xml>Sitemap</a></li><li><a href=./index.xml>RSS</a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(/img/home-bg-jeep.jpg)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags></div><h1>A Deep Dive into Zen-based Hygon Dhyana Processors</h1><h2 class=subheading></h2><span class=meta>Posted by
Martina Birk
on
Thursday, March 14, 2024</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><p>In 2016, through a series of joint ventures and created companies, AMD licensed the design of its first generation Zen x86 processors to be sold into China. The goal of this was two-fold: China wanted a ‘home grown’ solution for high-performance x86 compute, and AMD at the time needed a cash injection. The outcome of this web of businesses was the Hygon Dhyana range of processors, which ranged from commercial to server use. Due to the Zen 1 design on which it was based, it has been assumed that the performance was in line with Ryzen 1000 and Naples EPYC, and no-one in the west has publicly tested the hardware. Thanks to a collaboration with our friend Wendell Wilson over at YouTube channel <a href=#>Level1Techs</a>, we now have the first full review of the Hygon CPUs.</p><h3>Let’s Start From The Beginning</h3><p>There are two/three primary manufacturers of x86 processors: Intel, AMD, and Via/Centaur. Both Intel and AMD have been competing in the high performance compute space for multiple decades, and the reason there hasn’t been any other competitors is due to licensing. Due to patents surrounding the x86 architecture, Intel doesn’t want anyone else coming in and treading on its market share dominance, and to complicate matters, it is AMD’s version of 64-bit x86 that is currently being used by all involved. Intel and AMD are inextricably linked in this way. Meanwhile. Via/Centaur is along for the ride, with a very small market share mostly in Asia, and a lack of a leading edge high performance competitor.</p><p>For those who haven’t been following AMD, the company has been through a number of ups and downs. A significant down was during its Bulldozer CPU architecture years, where costs were high, performance wasn’t great, and Intel pulled ahead significantly in all areas: laptop, desktop, commercial, and enterprise. The design of Intel’s CPUs and its market dominance strategy, combined with the lack of a leading edge competitive product for AMD along with the purchase of graphics IP company ATI, nearly bankrupted AMD. Through the leadership of the former CEO, Rory Read, AMD became stable, and under the auspices of current CEO Dr. Lisa Su, the company put heavy investment back into its x86 CPU design. At one point, AMD’s debt was higher than its tangible assets, and the company had to even sell its headquarters and lease the buildings back from the new owners to find the funds to stay afloat.</p><p>Another element of this ‘staying alive’ tactic was the sublicensing of AMD’s x86 IP, which ultimately created the Hygon Dhyana x86 processors for China. Some people will quote this as being a keystone for AMD staying alive, however it is of a general consensus that this sublicensing ultimately secured AMD only around $200m (until the US entity list ban) out of the original $293m deal. At that time AMD was already making quick strides into the consumer market with its Ryzen 1000-series processors, which offered eight cores with modestly competitive performance while beating Intel on performance-per-dollar, giving AMD enough to reinvest in its key areas. The sublicensing ultimately provided AMD more of a safety net, depending on the success of the first generation Ryzen product portfolio.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/15493/5_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><h3>AMD Does Due Diligence</h3><p>Simply stating ‘AMD sublicensed the IP of one of its x86 designs’ sounds a bit farfetched on most days of the week. If either AMD or Intel believed that the opportunity to let others sell its CPU designs was profitable, how come it took until 2015/2016 to ever come to fruition? Part of this story covers that while there was clearly some money in it for AMD here, it didn’t fall foul of any Intel-AMD licensing agreements. And most importantly, it didn’t contravene any US laws regarding the export of high-performance computing intellectual property.</p><p>This last point is important. The US government gives every CPU that comes out of Intel, AMD, and others, a value based on its performance. This is some combination of FLOPs and power, and those that surpass a specific threshold are deemed too powerful to be sold in certain markets. This includes semi-custom processors, where AMD/Intel fiddle with the core count/frequency and provide off-roadmap parts.</p><p>AMD at the time made the following statement:</p><p>Starting in 2015, AMD diligently and proactively briefed the Department of Defense, the Department of Commerce and multiple other agencies within the U.S. Government before entering into the joint ventures. AMD received no objections whatsoever from any agency to the formation of the joint ventures or to the transfer of technology – technology which was of lower performance than other commercially available processors. In fact, prior to the formation of the joint ventures and the transfer of technology, the Department of Commerce notified AMD that the technology proposed was not restricted or otherwise prohibited from being transferred. Given this clear feedback, AMD moved ahead with the joint ventures.</p><p>AMD had contacted the DoD and DoC, as well as all others, and had been given the green light. The new microarchitecture was deemed of low enough performance to not hit any of the export bans. AMD was also given crystal clear confirmation that the ‘technology proposed was not restricted or otherwise prohibited from being transferred’, which is a rather stark statement. At this point it should be clear that AMD may have submitted a modified version of its IP to the relevant US departments, rather than the microarchitecture we saw in the Ryzen 1000-series. This is part of what this review is about.</p><h3>Joint Venture in a Joint Venture</h3><p>The end goal of all of this was to be able to provide China a version of AMD’s Zen 1 CPUs that could be called ‘Chinese’, rather than ‘American’. As has been the case of the last decade or more, China has wanted to rely less on American technology and intellectual property in order to become self-sufficient. The way in which AMD’s joint ventures worked for the Hygon Dhyana designs was built to essentially do that in a very roundabout way.</p><p>The name of the joint venture overseeing the operation is called THATIC, or Tianjin Haiguang Advanced Technology Investment Co. Ltd. This company is owned by AMD and a mix of Chinese companies, both public and private, including the Chinese Academy of Sciences, but is at least 51% owned by AMD.</p><p>Two companies were created in order to perform the web of steps required – these companies would be jointly owned between AMD and THATIC (note that AMD also owns part of THATIC). These companies are:</p><ul><li>HMC: Haiguang Microelectronics Co. Ltd.</li><li>Hygon: Chengdu Haiguang Integrated Circuit Design Co. Ltd.</li></ul><p>Of these companies,</p><ul><li>HMC is 51% owned by AMD and 49% by THATIC.&nbsp;</li><li>Hygon is 30% owned by AMD, and 70% by THATIC.&nbsp;</li></ul><p>These companies fulfill different roles in the chain. HMC works with AMD for design and GlobalFoundries for manufacturing, while Hygon works with HMC to add co-design elements and packaging, then selling the silicon to China.</p><h3>Licensing Core IP is Different to Sub-Licensing x86</h3><p>A lot of confusion was made when the creation of the THATIC joint venture happened. The big overriding question was if AMD had somehow licensed the full x86 (and x64) architectures to a Chinese company, allowing them to build fully capable custom x86 CPUs and push both Intel and AMD out of the market there. This is not the case with the joint venture.</p><p>What AMD did was license a single core design to HMC, along with an SoC layout. From this point on, AMD is officially ‘hands-off’, but AMD engineers and executives are involved at HMC, so technically they are still present. With these core designs and SoC layouts, HMC sent the floorplans, not the RTL, to Hygon for requested updates. Hygon submitted the updates to HMC, which were either approved or rejected by AMD’s engineers. HMC would integrate the changes, and then take orders from Hygon for manufacturing. With Hygon’s order, HMC went to GlobalFoundries with the design and ordered the silicon. HMC then sold the silicon to Hygon, which packages the CPU into various configurations and sells it into the Chinese market. It is also up to Hygon to help design motherboards for the new platform(s).</p><p>Broken down into steps:</p><li>AMD licenses core design to HMC with suggested SoC layouts</li><li>HMC provides floorplan to Hygon</li><li>Hygon suggests changes to HMC</li><li>AMD engineers at HMC approve/reject changes</li><li>HMC offers final floorplan to Hygon, ready to take orders</li><li>Hygon orders wafers / silicon die from HMC</li><li>HMC approaches GlobalFoundries for manufacturing</li><li>GlobalFoundries achieves particular frequency/yield on new design</li><li>HMC sells completed silicon to Hygon</li><li>Hygon performs packaging on the silicon in China</li><li>Hygon sells completed CPUs into China</li><p>Because HMC is the one providing Hygon with the IP, the CPU can now be classified as ‘Chinese’, despite the underlying design coming from AMD.</p><p>When AMD announced the creation of THATIC, it spoke about sub-licensing its Zen core IP to the joint venture. It was described as a multi-year partnership, however it was confirmed at a trade show that AMD was only sub-licensing a single version of its IP, and that there were no plans to sub-license any others in the works.</p><p>At the time, it was assumed that AMD had sub-licensed the same version of its Zen core IP that had already been released as the Ryzen 1000-series processors and EPYC Naples processors. However as part of this review will show, it would appear that AMD made some performance changes to the design before it was given to the joint venture – specific instructions have a lower throughput than what we saw from the processors coming directly out of AMD.</p><p>Not only this, but in that list of steps, point (4) is most apt. Hygon requested specific changes for the Chinese market. Before everyone leaps to ‘creating backdoors for the Chinese government’, we know of several modifications that were made due to Linux kernel updates. In China different elliptic cryptographic algorithms are used compared to the west, and so the hardware accelerated functions for these were changed, and different microcode used in order to enable these. Part of this review is to try and discover if there are any other changes as well.</p><p>The final product out of this spider web of arrangements is the Hygon Dhyana x86 core, an ‘updated Zen core for China’, which Hygon packaged for both embedded, commercial, and enterprise systems. <a href=#>We saw at Computex 2018</a> that Chinese server vendor Sugon was involved in this project, with the company showcasing its servers built on 32-core Hygon CPUs. Users that follow online benchmark databases also saw submissions for 8-core commercial and embedded variants, likely to be used for government and education deployments.</p><p>We should point out that we asked AMD several times what differences were in the Hygon Dhyana designs compared to the original Zen 1 cores. With ‘AMD’ playing a limited role in all of this, we were simply told that if we could get hold of one, if we identified changes to the design in our testing, they might consider confirming or denying them. For as open as AMD has been with us about the Ryzen and EPYC processor families, it was a stark contrast when talking about Hygon.</p><p>The first Hygon CPUs went into the Chinese market in 2018, however they were almost impossible to source. The Hygon CPUs were never meant to be sold to the west, and the nature of the CPU and the companies dealing with it meant that none that we could identify were ever interested in sampling us.</p><p>In 2019, the US created an ‘entity list’ of Chinese companies what are deemed a potential security threat to the US market. As a result, any commercial interaction with these companies, with products or IP that were at least 25% created in the US, are restricted and forbidden. THATIC was one of the companies placed on the list, which means that AMD can no longer license any additional IP to the joint venture. THATIC still has access to the original IP it licensed however, and can continue to manage it (albeit without AMD’s assistance), however the ban also restricts HMC’s ability to order silicon from GlobalFoundries, making the whole process in limbo if not defunct.</p><p>A big thanks to <a href=#>Usman Pirzada’s great write up</a>, from which much of this was based on, as well as Drew Prairie from AMD who has provided additional context to AMD’s arrangement.</p><h3>Working with Wendell: Sourcing Hygon CPUs</h3><p>For this review, we were able to test two systems remotely housed in the lab of Wendell Wilson, the charismatic host of the Level1Techs YouTube channel. We were both approached by sources asking if we wanted to purchase systems, which we gather were old engineering samples from a Hygon or Sugon subsidiary based in the US that was performing post-manufacturing analysis and performance testing. That subsidiary has now been dissolved, a knock-on effect of the entity list ban, and the engineering hardware within that company was (unbeknown to us) sold off. We were given the opportunity to borrow a couple of systems that fell out of the dissolution. Due to location, Wendell offered to house them, take some pictures and video, while we both did performance benchmarks. Linus’ team from the popular LinusTechTips channel were also invited to participate – you can see the video that was produced <a href=#>here</a>.</p><p>Ultimately we ended up with two systems to test – one commercial ‘Hygon Dhyana’ and one enterprise ‘Hygon Dhyana Plus’.</p><p align=center><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/15493/10%20-%20Systems_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>The commercial system looks like a normal 8-core Ryzen 1000-series system, however it is actually a BGA design and is not upgradeable. In fact this seems to be an early engineering sample, as the CPU doesn’t even have a number associated with it. There’s also something interesting going on with the mounting points, which we’ll cover in due course.</p><p>The enterprise system is a dual 32-core Hygon 2U server. These CPUs state that they are the ‘7185’ models, which we know to be the highest core count that Hygon offered, and one of the highest performance 32-core parts as well. Putting two of them into a server looks very much like a 2P EPYC Naples design.</p><p><a href=#><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/15493/HygonCPU_575px.jpg style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a></p><p>It should be noted that we did see a Hygon processor before at a trade show, and you may notice some Chinese writing at the bottom. Interestingly enough, we got the bottom right of the CPU translated. A literal translation is&nbsp;</p><p>'Using Cores to Calculate The Future'</p><p>However, the second character used in the slogan is a homonym, which could be translated as:</p><p>'Using Passion to Calculate The Future'</p><p>Over the next couple of pages we’ll examine the two systems in more detail, and then a look into the fundamental differences we found at a core and SoC level compared to the Ryzen 1000 and EPYC Naples processors we’ve already tested in years gone by.</p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZH52gJhsZqGxl6S7brDHspinmV2nsre1xLCcnWWTnbavsdKeZLFwZmKwscHSZpimnA%3D%3D</p><hr><ul class=pager><li class=previous><a href=./five-people-dead-after-huge-pile-up-involving-fifty-cars-on-i-57-in-missouri.html data-toggle=tooltip data-placement=top title="Five people dead after huge pile-up involving FIFTY cars on I-57 in Missouri">&larr;
Previous Post</a></li><li class=next><a href=./the-last-phone-call-these-rock-stars-made-before-they-died.html data-toggle=tooltip data-placement=top title="The Last Phone Call These Rock Stars Made Before They Died">Next
Post &rarr;</a></li></ul></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href=./tags/>FEATURED TAGS</a></h5><div class=tags></div></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"></ul><p class="copyright text-muted">Copyright &copy; FluxVib 2024<br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function loadAsync(i,t){var n=document,s="script",e=n.createElement(s),o=n.getElementsByTagName(s)[0];e.src=i,t&&e.addEventListener("load",function(e){t(null,e)},!1),o.parentNode.insertBefore(e,o)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,r=$(_containerSelector),a=r.find("h1,h2,h3,h4,h5,h6");return $(e).html(''),a.each(function(){n=$(this).prop("tagName").toLowerCase(),i="#"+$(this).prop("id"),s=$(this).text(),t=$('<a href="'+i+'" rel="nofollow">'+s+"</a>"),o=$('<li class="'+n+'_nav"></li>').append(t),$(e).append(o)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("https://assets.cdnweb.info/hugo/cleanwhite/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/banner.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>